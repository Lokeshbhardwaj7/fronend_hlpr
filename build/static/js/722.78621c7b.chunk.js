"use strict";(self.webpackChunkmetrics=self.webpackChunkmetrics||[]).push([[722],{53808:function(e,t,s){s.d(t,{RQ:function(){return m},jE:function(){return r},x9:function(){return c},xW:function(){return u}});var o=s(80827),a=s(3509),d=s(40789),i=s(61913),l=s(98189),n=s(5140);const r=(0,o.hg)("getProductKeywordsList",(async(e,t)=>{let{dispatch:s}=t;try{s((0,a.K4)(!0));const t=await(0,n.Z)().post("keywords/product-keywords",e);s((0,a.K4)(!1)),null!==t&&void 0!==t&&t.data?s((0,i.Gt)(null===t||void 0===t?void 0:t.data)):s((0,d.tK)(l.Z.ERROR.DEFAULT))}catch(o){s((0,a.K4)(!1)),s((0,d.tK)(l.Z.ERROR.DEFAULT))}})),c=(0,o.hg)("importKewords",(async(e,t)=>{let{dispatch:s}=t;try{s((0,a.K4)(!0));const t=await(0,n.Z)().post("/keywords/csv-upload",null===e||void 0===e?void 0:e.formData);if(s((0,a.K4)(!1)),null!==t&&void 0!==t&&t.data){s((0,d.$h)("Keywords Upload successfully")),s(r({store_id:[72],filter:{action:"sort",name:"product_id",direction:"desc"},status:"",limit:1e3,page:0,search:""}))}else s((0,d.tK)(l.Z.ERROR.DEFAULT))}catch(c){var o,i;s((0,a.K4)(!1)),s((0,d.tK)((null===c||void 0===c||null===(o=c.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||l.Z.ERROR.DEFAULT))}})),u=(0,o.hg)("getSingleProductDetail",(async(e,t)=>{let{dispatch:s}=t;try{s((0,a.K4)(!0));const t=await(0,n.Z)().post("keywords/product-keywords",e);s((0,a.K4)(!1)),null!==t&&void 0!==t&&t.data?s((0,i.PY)(null===t||void 0===t?void 0:t.data)):s((0,d.tK)(l.Z.ERROR.DEFAULT))}catch(o){s((0,a.K4)(!1)),s((0,d.tK)(l.Z.ERROR.DEFAULT))}})),m=(0,o.hg)("getKeywordListByItemId",(async(e,t)=>{let{dispatch:s}=t;try{s((0,a.K4)(!0));const t=await(0,n.Z)().post("keywords/product-keywords-detail",e);s((0,a.K4)(!1)),null!==t&&void 0!==t&&t.data?s((0,i.DQ)(null===t||void 0===t?void 0:t.data)):s((0,d.tK)(l.Z.ERROR.DEFAULT))}catch(o){s((0,a.K4)(!1)),s((0,d.tK)(l.Z.ERROR.DEFAULT))}}))},55722:function(e,t,s){s.r(t);var o=s(47313),a=s(33497),d=s(9506),i=s(47605),l=s(80836),n=s(8047),r=s(1082),c=s(71003),u=s(13827),m=s(57009),v=s(25660),h=s(68781),p=s(57983),x=s(23195),y=s(77421),f=s(24614),j=s(473),w=s(48420),g=s(53808),k=s(97890),Z=s(46417);t.default=()=>{const e=(0,k.s0)(),t=(0,w.CG)((e=>e.dataLoading)),s=(0,w.TL)(),{itemKeyWordList:C}=(0,w.CG)((e=>e.keyWordSlice)),[_]=(0,o.useState)([]),[K,S]=(0,o.useState)(0),[R]=(0,o.useState)([5,10,15,0]),[E,z]=(0,o.useState)(10),[b,D]=(0,o.useState)([{columnName:"product_name",direction:"asc"}]),[U,L]=(0,o.useState)(["product_name","keywords","tracked_keywords","credits_used","competitors","keywords_summary","actions"]),[N]=(0,o.useState)([{name:"product_name",title:"Product Name"},{name:"keywords",title:"Keywords"},{name:"tracked_keywords",title:"Tracked Keywords"},{name:"credits_used",title:"Credits Used"},{name:"competitors",title:"Competitors"},{name:"keywords_summary",title:"Keywords Summary"},{name:"actions",title:"Actions"}]),[F]=(0,o.useState)(["product_name"]),[A,I]=(0,o.useState)([]),[O]=(0,o.useState)([{columnName:"product_name",width:450},{columnName:"keywords",width:180},{columnName:"tracked_keywords",width:180},{columnName:"credits_used",width:180},{columnName:"competitors",width:240},{columnName:"keywords_summary",width:240},{columnName:"actions",width:100}]),[P,T]=(0,o.useState)(""),[M,W]=(0,o.useState)(!1),H=()=>{W(!0)},B=()=>{T("")},G=e=>{const t=e.target.value;T(t)};(0,o.useEffect)((()=>{var e,t;let o={store_id:[72],filter:{action:"sort",name:null===(e=b[0])||void 0===e?void 0:e.columnName,direction:null===(t=b[0])||void 0===t?void 0:t.direction},status:"",limit:1e3,page:0,search:P};s((0,g.jE)(o))}),[P,b]);(0,o.useEffect)((()=>{var t;const s=[];var o;null!==C&&void 0!==C&&null!==(t=C.data)&&void 0!==t&&t.length&&(null===C||void 0===C||null===(o=C.data)||void 0===o||o.map((t=>{var o;const a=t&&(null===t||void 0===t?void 0:t.product_url);let n={product_name:(0,Z.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,Z.jsx)(d.Z,{sx:{mr:"5px"},children:(0,Z.jsx)("button",{style:{padding:"0"},className:"custom-cell",tabIndex:0,children:(0,Z.jsx)("img",{src:(null===t||void 0===t?void 0:t.primary_image_url)||(null===t||void 0===t?void 0:t.image),alt:"Product",style:{border:"1px solid rgba(224, 224, 224, 1)",maxWidth:"35px",maxHeight:"40px",width:"35px",height:"38px"}})})}),(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)("div",{className:"custom-cell",children:[(0,Z.jsxs)("a",{href:a,style:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(i.Z,{style:{fontSize:"0.75rem"},children:null===t||void 0===t?void 0:t.product_name}),(0,Z.jsx)(m.Z,{fontSize:"small"})]}),(0,Z.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,Z.jsxs)(i.Z,{style:{fontSize:"0.75rem"},variant:"body2",children:["ITEM ID: ",null===t||void 0===t?void 0:t.item_id," ||\xa0"]}),(0,Z.jsxs)(i.Z,{style:{fontSize:"0.75rem"},variant:"body2",children:["SKU: ",null===t||void 0===t?void 0:t.sku]})]})]})})]}),keywords:(null===t||void 0===t||null===(o=t.keywords)||void 0===o?void 0:o.length)||0,tracked_keywords:"-",credits_used:"-",competitors:"-",keywords_summary:"-",actions:(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(l.Z,{onClick:()=>(t=>{e("/update-keyword",{state:{id:null===t||void 0===t?void 0:t.item_id}})})(t),size:"small",children:(0,Z.jsx)(u.Z,{color:"primary"})})})};s.push(n)})));I(s)}),[C]);const q=e=>{const t=e.target.files[0];if(t)if(t&&t.name.endsWith(".xlsx")){const e=new FormData;e.append("file",t),s((0,g.x9)({formData:e}))}else alert("Please select a valid CSV file."),e.target.value=""},Q=()=>{console.log("handleButtonClick:")},V=e=>{const{onCustomBtnClick:t}=e;return(0,Z.jsxs)("div",{className:"list_table_header",children:[(0,Z.jsx)(n.Z,{autoFocus:M,label:"Search",value:P,onChange:G,variant:"standard",size:"small",sx:{ml:"5px",mr:"10px"},onClick:H,InputProps:{startAdornment:(0,Z.jsx)(r.Z,{position:"start",children:(0,Z.jsx)(p.default,{})}),endAdornment:(0,Z.jsx)(r.Z,{position:"end",children:P&&(0,Z.jsx)(l.Z,{onClick:B,children:(0,Z.jsx)(x.default,{})})})}}),(0,Z.jsxs)(c.Z,{size:"small",variant:"outlined",component:"span",onClick:t,children:[(0,Z.jsx)(v.Z,{fontSize:"small"}),"Export"]}),(0,Z.jsx)("input",{type:"file",accept:".xlsx",style:{display:"none"},onChange:q,id:"fileInput"}),(0,Z.jsx)("label",{htmlFor:"fileInput",children:(0,Z.jsxs)(c.Z,{size:"small",sx:{ml:"5px"},variant:"outlined",component:"span",children:[(0,Z.jsx)(h.Z,{fontSize:"small"}),"Import Keyword"]})})]})};return(0,Z.jsx)(a.Z,{title:"Keyword Tracking",children:(0,Z.jsxs)(f.rj,{rows:A,columns:N,children:[(null===t||void 0===t?void 0:t.loading)&&(0,Z.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999},children:(0,Z.jsx)(j.Z,{})}),(0,Z.jsx)(f.o8,{rootComponent:e=>(0,Z.jsx)(V,{...e,onCustomBtnClick:Q})}),(0,Z.jsx)(y.Eb,{}),(0,Z.jsx)(y.MD,{currentPage:K,onCurrentPageChange:S,pageSize:E,onPageSizeChange:z}),(0,Z.jsx)(y.qC,{}),(0,Z.jsx)(f.cO,{}),(0,Z.jsx)(f.W3,{defaultHiddenColumnNames:_}),(0,Z.jsx)(f.kU,{}),(0,Z.jsx)(f.wz,{}),(0,Z.jsx)(f.nM,{order:U,onOrderChange:L}),(0,Z.jsx)(y.tU,{sorting:b,onSortingChange:D}),(0,Z.jsx)(y.qf,{}),(0,Z.jsx)(f.ad,{defaultColumnWidths:O}),(0,Z.jsx)(f.KA,{showSortingControls:!0}),(0,Z.jsx)(f.a$,{leftColumns:F}),(0,Z.jsx)(f.U6,{pageSizes:R})]})})}},23195:function(e,t,s){var o=s(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(s(45045)),d=s(46417),i=(0,a.default)((0,d.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=i},25660:function(e,t,s){var o=s(64836);t.Z=void 0;var a=o(s(45045)),d=s(46417),i=(0,a.default)((0,d.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload");t.Z=i},57983:function(e,t,s){var o=s(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(s(45045)),d=s(46417),i=(0,a.default)((0,d.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=i},68781:function(e,t,s){var o=s(64836);t.Z=void 0;var a=o(s(45045)),d=s(46417),i=(0,a.default)((0,d.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");t.Z=i}}]);