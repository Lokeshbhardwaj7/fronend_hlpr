"use strict";(self.webpackChunkmetrics=self.webpackChunkmetrics||[]).push([[955],{92472:function(i,e,t){var o=t(57775),a=t(51057),n=t(19641),l=t(17964),r=t(12401),s=t(46417);e.Z=()=>(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(a.Z,{children:(0,s.jsxs)(n.ZP,{container:!0,spacing:r.dv,children:[(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:r.dv,children:[(0,s.jsx)(n.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20,width:20})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:150})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",spacing:r.dv,justifyContent:"space-between",children:[(0,s.jsx)(n.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(n.ZP,{item:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:6,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})})]})})]})}),(0,s.jsx)(a.Z,{sx:{p:1.25,display:"flex",pt:0,justifyContent:"center"},children:(0,s.jsx)(l.Z,{variant:"rectangular",height:25,width:75})})]})},14934:function(i,e,t){var o=t(57775),a=t(51057),n=t(19641),l=t(17964),r=t(12401),s=t(46417);e.Z=()=>(0,s.jsx)(o.Z,{children:(0,s.jsx)(a.Z,{children:(0,s.jsxs)(n.ZP,{container:!0,spacing:r.dv,children:[(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsxs)(n.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:r.dv,children:[(0,s.jsx)(n.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsx)(l.Z,{variant:"text"})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(n.ZP,{item:!0,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:50,width:80})})]})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsx)(l.Z,{variant:"rectangular",height:530})})]})})})},97955:function(i,e,t){t.r(e),t.d(e,{default:function(){return z}});var o=t(47313),a=t(19641),n=t(47605),l=t(92554),r=t(2312),s=t(14934),d=t(33497),c=t(12401),u=t(19860),v=t(7910),p=t.n(v),h=t(58446),m=t(48420),x=t(46417);var _=i=>{let{isLoading:e}=i;const t=(0,u.Z)(),{primary:a}=t.palette.text,n=t.palette.grey[200],l=t.palette.grey[500],r=(0,m.CG)((i=>i.dashboardSlice.pnlData)),s={height:480,type:"bar",series:[{name:"P&L",data:null===r||void 0===r?void 0:r.pnlArrayNew}],options:{chart:{stacked:!1,zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1,formatter:function(i){return"$"+i.toFixed(0)}},markers:{size:0},plotOptions:{bar:{isDumbbell:!1,dumbbellColors:[["#008FFB","#00E396"]],legend:{show:!0,showForSingleSeries:!0,position:"top",horizontalAlign:"left",customLegendItems:["Product A","Product B"]}}},xaxis:{type:"datetime",categories:null===r||void 0===r?void 0:r.datesArray,labels:{rotate:-90}},yaxis:[{labels:{formatter:function(i){return`${i<0?"-$":"$"}${Math.abs(i).toFixed(0)}`}}}],tooltip:{followCursor:!0,y:{formatter:function(i){return"undefined"!==typeof i?`${i<0?"-$":"$"}${Math.abs(i).toLocaleString()}`:i}}}}};return(0,o.useEffect)((()=>{const i={...s.options,xaxis:{labels:{style:{colors:[a,a,a,a,a,a,a,a]}}},yaxis:{labels:{style:{colors:[a]}}},tooltip:{followCursor:!0,theme:"light"},legend:{labels:{colors:l}}};e||p().exec("bar-chart","updateOptions",i)}),[a,n,l,e]),(0,x.jsx)(h.Z,{options:s.options,series:s.series,type:"bar"})},j=t(85554);var g=i=>{let{isLoading:e}=i;const t=(0,u.Z)(),a=(0,j.v9)((i=>i.customization)),n=(0,m.CG)((i=>i.dashboardSlice.pnlData)),{navType:l}=a,r=t.palette.primary[200],s=t.palette.primary.dark,d=t.palette.secondary.main,c={height:480,type:"area",options:{chart:{stacked:!1,toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(i){return`${i<0?"-$":"$"}${Math.abs(i).toFixed(0)}`}},stroke:{width:[0,5],curve:"smooth",dashArray:[0,5]},markers:{size:0},xaxis:{type:"datetime",categories:null===n||void 0===n?void 0:n.datesArray},yaxis:[{labels:{formatter:function(i){return`${i<0?"-$":"$"}${Math.abs(i).toFixed(0)}`}}}],tooltip:{followCursor:!0,y:{formatter:function(i){return"undefined"!==typeof i?`${i<0?"-$":"$"}${Math.abs(i).toLocaleString()}`:i}}}},series:[{name:"P&L",type:"area",color:s,data:null===n||void 0===n?void 0:n.pnlArrayNew}]};return(0,o.useEffect)((()=>{const i=Math.min(...(null===n||void 0===n?void 0:n.salePN)||[]),t={...c.options,colors:d,fill:{gradient:{inverseColors:i<0,shade:"light",type:"vertical",opacityFrom:.85,opacityTo:.55,stops:[0,100,100,100]}},yaxis:{title:{text:"Points"},max:null===n||void 0===n?void 0:n.salePN}};e||p().exec("line-chart","updateOptions",t)}),[l,r,s,d,e]),(0,x.jsx)(h.Z,{...c})},Z=t(4047),b=t(66329);const f=[{value:"linechart",label:(0,x.jsx)(b.Z,{})},{value:"barchart",label:(0,x.jsx)(Z.Z,{})}];var P=i=>{let{isLoading:e}=i;const[t,u]=(0,o.useState)("linechart"),[v,p]=(0,o.useState)(0),h=(0,m.CG)((i=>i.dashboardSlice.pnlData));return(0,o.useEffect)((()=>{null!==h&&void 0!==h&&h.account_fees_total||null!==h&&void 0!==h&&h.item_level_fees_total_v2?p((null===h||void 0===h?void 0:h.account_fees_total)+(null===h||void 0===h?void 0:h.item_level_fees_total_v2)):p(0)}),[h]),(0,x.jsx)(x.Fragment,{children:e?(0,x.jsx)(s.Z,{}):(0,x.jsx)(d.Z,{sx:{height:"100%"},children:(0,x.jsxs)(a.ZP,{container:!0,spacing:c.dv,children:[(0,x.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{sx:{color:"#5d5d5d"},variant:"h4",children:"Total PnL Performance"})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsxs)(a.ZP,{item:!0,children:[(0,x.jsx)(n.Z,{sx:{mb:"5px",color:"#5d5d5d"},variant:"h5",children:"Recon Available Till"}),(0,x.jsx)(n.Z,{variant:"h5",sx:{textAlign:"center",mb:"10px"},children:null===h||void 0===h?void 0:h.reconAvailableTill})]})})]}),(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"h3",style:{textAlign:"center"},children:void 0!==v?v<0?(0,x.jsxs)("span",{children:["-$",Math.abs(parseFloat(v)).toLocaleString()]}):(0,x.jsxs)("span",{children:["$",parseFloat(v).toLocaleString()]}):"0"})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(l.Z,{value:t,"aria-label":"Small sizes",exclusive:!0,onChange:(i,e)=>u(e),children:f.map((i=>(0,x.jsx)(r.Z,{value:i.value,children:i.label},i.value)))})})]})]}),(0,x.jsx)(a.ZP,{item:!0,xs:12,children:"barchart"==t?(0,x.jsx)(_,{isLoading:e}):(0,x.jsx)(g,{isLoading:e})})]})})})},y=t(40242),M=t(70816),F=t.n(M),C=t(92472),D=t(74730),S=t(51057),w=t(89840),$=t(49709),L=t(19536),I=t(29917);var k=i=>{let{isLoading:e}=i;const t=(0,m.TL)(),l=(0,m.CG)((i=>i.dashboardSlice.pnlData)),{itemLevelGraphData:r,graphColorsItemLevel:s}=(0,m.CG)((i=>i.dashboardSlice)),[v,p]=(0,o.useState)([]),[h,_]=(0,o.useState)([]),j=(0,u.Z)();(0,o.useEffect)((()=>{var i;if(null!==l&&void 0!==l&&null!==(i=l.item_level_fees_data_v2)&&void 0!==i&&i.length){var e;const i=null===l||void 0===l||null===(e=l.item_level_fees_data_v2)||void 0===e?void 0:e.filter((i=>0!==i.comparision_period_total||0!==i.current_period_total)),o=v,a=[],n=[];null!==o&&void 0!==o&&o.length?null===i||void 0===i||i.map(((i,e)=>{var t;if(a.push(i),null!==o&&void 0!==o&&o.includes(null===i||void 0===i||null===(t=i.display_fees_name)||void 0===t?void 0:t.toLowerCase())){var l;const t={name:null===i||void 0===i?void 0:i.display_fees_name,data:[],yAxisIndex:0,colorOnGraph:s[e]},o=[];null===i||void 0===i||null===(l=i.data)||void 0===l||l.map((i=>{o.push(null===i||void 0===i?void 0:i.total_amount)})),Object.assign(t,{data:o}),n.push(t)}})):null===i||void 0===i||i.map(((i,e)=>{if(a.push(i),e<=2){var t,l;o.push(null===i||void 0===i||null===(t=i.display_fees_name)||void 0===t?void 0:t.toLowerCase());const a={name:null===i||void 0===i?void 0:i.display_fees_name,data:[],yAxisIndex:0,colorOnGraph:s[e]},r=[];null===i||void 0===i||null===(l=i.data)||void 0===l||l.map((i=>{r.push(null===i||void 0===i?void 0:i.total_amount)})),Object.assign(a,{data:r}),n.push(a)}})),t((0,D.t7)(n)),p(o),_(a)}}),[l]);return(0,x.jsx)(x.Fragment,{children:e?(0,x.jsx)(C.Z,{}):(0,x.jsxs)(d.Z,{content:!1,children:[(0,x.jsx)(S.Z,{children:(0,x.jsxs)(a.ZP,{container:!0,spacing:c.dv,children:[(0,x.jsx)(a.ZP,{item:!0,xs:12,children:(0,x.jsxs)(a.ZP,{container:!0,alignContent:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"h4",children:"Item Level"})}),(0,x.jsx)(a.ZP,{item:!0})]})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,className:"AccoundLevel",children:null===h||void 0===h?void 0:h.map(((i,e)=>{var o,d,c;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(w.Z,{sx:{transition:"0.3s",backgroundColor:"#fff",color:"#000",borderTop:"5px solid transparent",borderRadius:"0",padding:"0px","&:hover":{backgroundColor:"#abd8ff00",color:"#697586",borderTop:`5px solid ${s[e]}`,borderRadius:"0px"},"&.Mui-selected":{backgroundColor:"#abd8ff00",color:"#697586",borderTop:`5px solid ${s[e]}`,borderRadius:"0px","&:hover":{backgroundColor:"#abd8ff00",color:"#697586",borderTop:`5px solid ${s[e]}`,borderRadius:"0px"}}},selected:!(null===v||void 0===v||!v.includes(null===i||void 0===i||null===(o=i.display_fees_name)||void 0===o?void 0:o.toLowerCase())),onClick:()=>{var o;return((i,e,o)=>{const a=JSON.parse(JSON.stringify(v));let n=JSON.parse(JSON.stringify(r));if(null!==a&&void 0!==a&&a.includes(i)){var l;const t=a.indexOf(i);t>-1&&a.splice(t,1),n=null===(l=n)||void 0===l?void 0:l.filter((i=>(null===i||void 0===i?void 0:i.name)!==(null===e||void 0===e?void 0:e.display_fees_name)))}else{var d;a.push(i);const t={name:null===e||void 0===e?void 0:e.display_fees_name,data:[],yAxisIndex:0,colorOnGraph:s[o]},l=[];null===e||void 0===e||null===(d=e.data)||void 0===d||d.map((i=>{l.push(null===i||void 0===i?void 0:i.total_amount)})),Object.assign(t,{data:l}),n.push(t)}t((0,D.t7)(n)),p(a)})(null===i||void 0===i||null===(o=i.display_fees_name)||void 0===o?void 0:o.toLowerCase(),i,e)},children:(0,x.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"subtitle2",color:"inherit",children:null===i||void 0===i?void 0:i.display_fees_name})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)($.Z,{title:null===i||void 0===i||null===(d=i.current_period_total)||void 0===d?void 0:d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),enterDelay:1e3,children:(0,x.jsx)(n.Z,{sx:{color:void 0!==(null===i||void 0===i?void 0:i.current_period_total)?0===(null===i||void 0===i?void 0:i.current_period_total)?"grey":(null===i||void 0===i?void 0:i.current_period_total)>0?j.palette.success.dark:j.palette.orange.dark:"grey",fontWeight:500},variant:"subtitle2",children:null!==i&&void 0!==i&&i.current_period_total?`${parseFloat(null===i||void 0===i?void 0:i.current_period_total)<0?"-$":"$"}${Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00"})})})})})]})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"subtitle2",sx:{color:l&&isFinite(Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)<0?-Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)):Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total))-((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))/Math.abs((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))))?Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)<0?-Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)):Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total))-((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))/Math.abs((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total))))>0?j.palette.success.dark:Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)<0?-Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)):Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total))-((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))/Math.abs((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total))))<0?j.palette.error.dark:"grey":"grey"},children:null!==i&&void 0!==i&&i.current_period_total||null!==i&&void 0!==i&&i.comparision_period_total?isFinite(Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)<0?-Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)):Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total))-((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))/Math.abs((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))))?`${Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)-(null===i||void 0===i?void 0:i.comparision_period_total))/Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))}\n                            %`:"N/A":"0.00%"})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)($.Z,{title:null===i||void 0===i||null===(c=i.comparision_period_total)||void 0===c?void 0:c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),enterDelay:1e3,children:(0,x.jsx)(n.Z,{sx:{fontWeight:500},variant:"subtitle2",children:null!==i&&void 0!==i&&i.comparision_period_total?`${parseFloat(null===i||void 0===i?void 0:i.comparision_period_total)<0?"-$":"$"}${Math.abs(parseFloat(null===i||void 0===i?void 0:i.comparision_period_total)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00"})})})})})]})})]})}),(0,x.jsx)(L.Z,{sx:{my:"4px"}})]})}))}),(0,x.jsx)(a.ZP,{item:!0,xs:12,sx:{paddingTop:"0 !important"},children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(L.Z,{sx:{my:.8,borderBottomWidth:3}}),(0,x.jsx)(a.ZP,{sx:{mb:.5,mt:.5},container:!0,direction:"column",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"subtitle1",color:"inherit",sx:{fontWeight:900,fontSize:"0.975rem"},children:"Total"})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)($.Z,{title:(null===l||void 0===l?void 0:l.item_level_fees_total_v2)&&(null===l||void 0===l?void 0:l.item_level_fees_total_v2.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),enterDelay:1e3,children:(0,x.jsx)(n.Z,{sx:{fontSize:"0.975rem",color:void 0!==(null===l||void 0===l?void 0:l.item_level_fees_total_v2)?0===(null===l||void 0===l?void 0:l.item_level_fees_total_v2)?"grey":(null===l||void 0===l?void 0:l.item_level_fees_total_v2)>0?j.palette.success.dark:j.palette.orange.dark:"grey",fontWeight:500},variant:"subtitle2",children:null!==l&&void 0!==l&&l.item_level_fees_total_v2?`${parseFloat(null===l||void 0===l?void 0:l.item_level_fees_total_v2)<0?"-$":"$"}${Math.abs(parseFloat(null===l||void 0===l?void 0:l.item_level_fees_total_v2)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00"})})})})})]})})})]})})]})}),(0,x.jsx)(I.Z,{sx:{p:1.25,pt:0,justifyContent:"center"}})]})})};var Y=i=>{let{isLoading:e}=i;const t=(0,m.TL)(),l=(0,m.CG)((i=>i.dashboardSlice.pnlData)),{pnlDataAccoutGraphData:r,graphColors:s}=(0,m.CG)((i=>i.dashboardSlice)),[v,p]=(0,o.useState)([]),[h,_]=(0,o.useState)([]),j=(0,u.Z)();(0,o.useEffect)((()=>{var i;if(null!==l&&void 0!==l&&null!==(i=l.account_fees_data_v2)&&void 0!==i&&i.length){var e;const i=null===l||void 0===l||null===(e=l.account_fees_data_v2)||void 0===e?void 0:e.filter((i=>0!==i.comparision_period_total||0!==i.current_period_total)),o=v,a=[],n=[];null!==o&&void 0!==o&&o.length?null===i||void 0===i||i.map(((i,e)=>{var t;if(a.push(i),null!==o&&void 0!==o&&o.includes(null===i||void 0===i||null===(t=i.display_fees_name)||void 0===t?void 0:t.toLowerCase())){var l;const t={name:null===i||void 0===i?void 0:i.display_fees_name,data:[],yAxisIndex:0,colorOnGraph:s[e]},o=[];null===i||void 0===i||null===(l=i.data)||void 0===l||l.map((i=>{o.push(null===i||void 0===i?void 0:i.total_amount)})),Object.assign(t,{data:o}),n.push(t)}})):null===i||void 0===i||i.map(((i,e)=>{if(a.push(i),e<=2){var t,l;o.push(null===i||void 0===i||null===(t=i.display_fees_name)||void 0===t?void 0:t.toLowerCase());const a={name:null===i||void 0===i?void 0:i.display_fees_name,data:[],yAxisIndex:0,colorOnGraph:s[e]},r=[];null===i||void 0===i||null===(l=i.data)||void 0===l||l.map((i=>{r.push(null===i||void 0===i?void 0:i.total_amount)})),Object.assign(a,{data:r}),n.push(a)}})),t((0,D.rC)(n)),p(o),_(a)}}),[l]);return(0,x.jsx)(x.Fragment,{children:e?(0,x.jsx)(C.Z,{}):(0,x.jsxs)(d.Z,{content:!1,children:[(0,x.jsx)(S.Z,{children:(0,x.jsxs)(a.ZP,{container:!0,spacing:c.dv,children:[(0,x.jsx)(a.ZP,{item:!0,xs:12,children:(0,x.jsxs)(a.ZP,{container:!0,alignContent:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"h4",children:"Account Level"})}),(0,x.jsx)(a.ZP,{item:!0})]})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,className:"AccoundLevel",children:null===h||void 0===h?void 0:h.map(((i,e)=>{var o,d,c;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(w.Z,{sx:{transition:"0.3s",backgroundColor:"#fff",color:"#000",borderTop:"5px solid transparent",borderRadius:"0",padding:"0px","&:hover":{backgroundColor:"#abd8ff00",color:"#697586",borderTop:`5px solid ${s[e]}`,borderRadius:"0px"},"&.Mui-selected":{backgroundColor:"#abd8ff00",color:"#697586",borderTop:`5px solid ${s[e]}`,borderRadius:"0px","&:hover":{backgroundColor:"#abd8ff00",color:"#697586",borderTop:`5px solid ${s[e]}`,borderRadius:"0px"}}},selected:!(null===v||void 0===v||!v.includes(null===i||void 0===i||null===(o=i.display_fees_name)||void 0===o?void 0:o.toLowerCase())),onClick:()=>{var o;return((i,e,o)=>{const a=JSON.parse(JSON.stringify(v));let n=JSON.parse(JSON.stringify(r));if(null!==a&&void 0!==a&&a.includes(i)){var l;const t=a.indexOf(i);t>-1&&a.splice(t,1),n=null===(l=n)||void 0===l?void 0:l.filter((i=>(null===i||void 0===i?void 0:i.name)!==(null===e||void 0===e?void 0:e.display_fees_name)))}else{var d;a.push(i);const t={name:null===e||void 0===e?void 0:e.display_fees_name,data:[],yAxisIndex:0,colorOnGraph:s[o]},l=[];null===e||void 0===e||null===(d=e.data)||void 0===d||d.map((i=>{l.push(null===i||void 0===i?void 0:i.total_amount)})),Object.assign(t,{data:l}),n.push(t)}t((0,D.rC)(n)),p(a)})(null===i||void 0===i||null===(o=i.display_fees_name)||void 0===o?void 0:o.toLowerCase(),i,e)},children:(0,x.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"subtitle2",color:"inherit",children:null===i||void 0===i?void 0:i.display_fees_name})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)($.Z,{title:null===i||void 0===i||null===(d=i.current_period_total)||void 0===d?void 0:d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),enterDelay:1e3,children:(0,x.jsx)(n.Z,{sx:{color:void 0!==(null===i||void 0===i?void 0:i.current_period_total)?0===(null===i||void 0===i?void 0:i.current_period_total)?"grey":(null===i||void 0===i?void 0:i.current_period_total)>0?j.palette.success.dark:j.palette.orange.dark:"grey",fontWeight:500},variant:"subtitle2",children:null!==i&&void 0!==i&&i.current_period_total?`${parseFloat(null===i||void 0===i?void 0:i.current_period_total)<0?"-$":"$"}${Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00"})})})})})]})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"subtitle2",sx:{color:l&&isFinite(Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)<0?-Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)):Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total))-((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))/Math.abs((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))))?Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)<0?-Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)):Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total))-((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))/Math.abs((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total))))>0?j.palette.success.dark:Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)<0?-Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)):Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total))-((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))/Math.abs((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total))))<0?j.palette.error.dark:"grey":"grey"},children:null!==i&&void 0!==i&&i.current_period_total||null!==i&&void 0!==i&&i.comparision_period_total?isFinite(Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)<0?-Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total)):Math.abs(parseFloat(null===i||void 0===i?void 0:i.current_period_total))-((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))/Math.abs((null===i||void 0===i?void 0:i.comparision_period_total)<0?-Math.abs(null===i||void 0===i?void 0:i.comparision_period_total):Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))))?`${Math.round(100*parseFloat(((null===i||void 0===i?void 0:i.current_period_total)-(null===i||void 0===i?void 0:i.comparision_period_total))/Math.abs(null===i||void 0===i?void 0:i.comparision_period_total)))}\n                            %`:"N/A":"0.00%"})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)($.Z,{title:null===i||void 0===i||null===(c=i.comparision_period_total)||void 0===c?void 0:c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),enterDelay:1e3,children:(0,x.jsx)(n.Z,{sx:{fontWeight:500},variant:"subtitle2",children:null!==i&&void 0!==i&&i.comparision_period_total?`${parseFloat(null===i||void 0===i?void 0:i.comparision_period_total)<0?"-$":"$"}${Math.abs(parseFloat(null===i||void 0===i?void 0:i.comparision_period_total)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00"})})})})})]})})]})}),(0,x.jsx)(L.Z,{sx:{my:"4px"}})]})}))}),(0,x.jsx)(a.ZP,{item:!0,xs:12,sx:{paddingTop:"0 !important"},children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(L.Z,{sx:{my:.8,borderBottomWidth:3}}),(0,x.jsx)(a.ZP,{sx:{mb:.5},container:!0,direction:"column",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"subtitle1",color:"inherit",sx:{fontWeight:900,fontSize:"0.975rem"},children:"Total"})}),(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)($.Z,{title:-Math.abs((null===l||void 0===l?void 0:l.account_fees_total)&&(null===l||void 0===l?void 0:l.account_fees_total.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))),enterDelay:1e3,children:(0,x.jsx)(n.Z,{sx:{fontSize:"0.975rem",color:void 0!==(null===l||void 0===l?void 0:l.account_fees_total)?0===-Math.abs(parseFloat(null===l||void 0===l?void 0:l.account_fees_total))?"grey":-Math.abs(parseFloat(null===l||void 0===l?void 0:l.account_fees_total))>0?j.palette.success.dark:j.palette.orange.dark:"grey",fontWeight:500},variant:"subtitle2",children:null!==l&&void 0!==l&&l.account_fees_total?`-$${Math.abs(parseFloat(null===l||void 0===l?void 0:l.account_fees_total).toFixed(2)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00"})})})})})]})})})]})})]})}),(0,x.jsx)(I.Z,{sx:{p:1.25,pt:0,justifyContent:"center"}})]})})};var O=i=>{let{isLoading:e}=i;const t=(0,u.Z)(),a=(0,j.v9)((i=>i.customization)),n=(0,m.CG)((i=>i.dashboardSlice.pnlData)),{pnlDataAccoutGraphData:l,itemLevelGraphData:r}=(0,m.CG)((i=>i.dashboardSlice)),[s,d]=(0,o.useState)([]),[c,v]=(0,o.useState)([]),{navType:_}=a,g=t.palette.primary[200],Z=t.palette.primary.dark,b=t.palette.secondary.main;(0,o.useEffect)((()=>{const i=[],e=[];null!==l&&void 0!==l&&l.length&&(null===l||void 0===l||l.map((t=>{e.push(t),i.push(null===t||void 0===t?void 0:t.colorOnGraph)}))),null!==r&&void 0!==r&&r.length&&(null===r||void 0===r||r.map((t=>{e.push(t),i.push(null===t||void 0===t?void 0:t.colorOnGraph)}))),d(i),v(e)}),[l,r]);const f={height:480,type:"line",options:{colors:s,chart:{stacked:!1,zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},xaxis:{type:"datetime",categories:null===n||void 0===n?void 0:n.datesArray},stroke:{curve:"straight"},fill:{opacity:1},tooltip:{followCursor:!0,y:{formatter:function(i){return i}}},yaxis:[{labels:{style:{colors:[Z]},formatter:i=>`${Math.round(i)}`}}]},series:c};return(0,o.useEffect)((()=>{const i={...f.options};e||p().exec("line-chart","updateOptions",i)}),[_,g,Z,b,e]),(0,x.jsx)(h.Z,{...f})};var A=i=>{let{isLoading:e}=i;return(0,x.jsx)(x.Fragment,{children:e?(0,x.jsx)(s.Z,{}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(d.Z,{sx:{height:"100%"},children:(0,x.jsxs)(a.ZP,{container:!0,spacing:c.dv,children:[(0,x.jsx)(a.ZP,{item:!0,xs:12,children:(0,x.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(a.ZP,{container:!0,spacing:1,children:(0,x.jsx)(a.ZP,{item:!0,children:(0,x.jsx)(n.Z,{variant:"h3",style:{textAlign:"center"}})})})})})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,children:(0,x.jsx)(O,{isLoading:e})})]})})})})},G=t(473);var z=()=>{const i=(0,m.TL)(),[e,t]=(0,o.useState)(!0),[n,l]=(0,o.useState)(!1),r=(0,m.CG)((i=>i.dashboardSlice.date)),s=(0,m.CG)((i=>i.dashboardSlice.storeId)),d=(0,m.CG)((i=>i.dataLoading));return(0,o.useEffect)((()=>{t(!1)}),[]),(0,o.useEffect)((()=>{if(r){if(Array.isArray(s)&&0===s.length)return;l(!0)}}),[s]),(0,o.useEffect)((()=>{if(n){var e;const t=JSON.parse(localStorage.getItem("user_data"));let o={startDate:null!==r&&void 0!==r&&r.startDate?F()(null===r||void 0===r?void 0:r.startDate).format("YYYY-MM-DD"):F()().subtract(6,"days").format("YYYY-MM-DD"),endDate:null!==r&&void 0!==r&&r.endDate?F()(null===r||void 0===r?void 0:r.endDate).format("YYYY-MM-DD"):F()().startOf("day").format("YYYY-MM-DD"),comparison_startDate:null!==r&&void 0!==r&&r.comparison_startDate?F()(null===r||void 0===r?void 0:r.comparison_startDate).format("YYYY-MM-DD"):F()().subtract(13,"days").format("YYYY-MM-DD"),comparison_endDate:null!==r&&void 0!==r&&r.comparison_endDate?F()(null===r||void 0===r?void 0:r.comparison_endDate).format("YYYY-MM-DD"):F()().startOf(7,"day").format("YYYY-MM-DD"),store_id:s||(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.store_id)};i((0,y.FN)(o))}}),[r,n,s]),(0,x.jsxs)(x.Fragment,{children:[(null===d||void 0===d?void 0:d.loading)&&(0,x.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999},children:(0,x.jsx)(G.Z,{})}),(0,x.jsxs)(a.ZP,{container:!0,spacing:c.dv,children:[(0,x.jsx)(a.ZP,{item:!0,xs:8,children:(0,x.jsxs)(a.ZP,{container:!0,spacing:c.dv,children:[(0,x.jsx)(a.ZP,{item:!0,xs:12,children:(0,x.jsx)(P,{isLoading:e})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,children:(0,x.jsx)(A,{isLoading:e})})]})}),(0,x.jsx)(a.ZP,{item:!0,xs:4,children:(0,x.jsxs)(a.ZP,{container:!0,spacing:c.dv,children:[(0,x.jsx)(a.ZP,{item:!0,xs:12,children:(0,x.jsx)(Y,{isLoading:e})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,children:(0,x.jsx)(k,{isLoading:e})})]})})]})]})}}}]);