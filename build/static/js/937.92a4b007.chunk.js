"use strict";(self.webpackChunkmetrics=self.webpackChunkmetrics||[]).push([[937],{1937:function(o,t,l){l.r(t);var e=l(47313),i=l(7794),a=l(48420),n=l(33497),s=l(70816),r=l.n(s),d=l(47605),c=l(69173),u=l(71003),p=l(52994),v=l(42988),m=l(70941),_=l(98668),g=l(57204),h=l(47992),x=l(68721),y=l(97741),f=l(15743),b=l(25660),S=l(40242),j=l(19860),M=l(67426),D=l(6165),k=l(43638),Z=l(72445),F=l(46417);const Y=[{name:"product_category",label:"Category"},{name:"shelf_name",label:"Category Path"},{name:"product_type",label:"Product Type"}];t.default=()=>{const o=(0,j.Z)(),[t,l]=(0,e.useState)([]),[s,R]=(0,e.useState)(),[C,z]=(0,e.useState)(!1),[B,A]=(0,e.useState)(!1),[w,W]=(0,e.useState)(Y||[]),[P,$]=(0,e.useState)(Y.length>0?Y[0].name:""),[O,N]=(0,e.useState)({product_category:!0,average_price:!0,ad_sales:!1,product_price:!0,total_amount_sale:!0,units_sold:!0,ad_spend:!1,total_commission_amount:!1,total_dispute_amount:!1,total_return_amount:!1,total_wfs_amount:!1,cap_total:!1,ad_units:!1,total_sales_order:!0,adv_orders:!1,organic_sales:!1,organic_sales_percentage:!1,roas:!1,tacos:!0,troas:!0,acos:!1,impressions:!1,total_clicks:!1,ctr:!1,cvr_oder:!1,cvr_unit:!1,return_unit:!0,shipping_total:!1,profit_margin:!1,total_pnl:!0}),I=(0,a.TL)(),L=(0,a.CG)((o=>o.dashboardSlice.salesByBrandData)),T=(0,a.CG)((o=>o.dataLoading)),U=(0,a.CG)((o=>o.dashboardSlice.date)),H=(0,a.CG)((o=>o.dashboardSlice.storeId)),G=["ad_spend"],J=["average_price","ad_units","adv_orders","organic_sales","roas","troas","acos","tacos","impressions","total_clicks","ctr","cvr_oder","organic_sales_percentage","cvr_unit","units_sold","return_unit"],V=["acos","tacos","total_wfs_amount","shipping_total","total_commission_amount","total_return_amount"],E=["average_price","ad_spend","impressions","return_unit"],q=["adv_orders","ad_units","impressions","total_clicks","units_sold","return_unit"];(0,e.useEffect)((()=>{W(Y||[])}),[Y]),(0,e.useEffect)((()=>{if(U){if(Array.isArray(H)&&0===H.length)return;z(!0)}}),[H]);const K=o=>{A(o.target.checked)};(0,e.useEffect)((()=>{if(C){var o,t,l;const e=JSON.parse(localStorage.getItem("user_data")),i=JSON.parse(localStorage.getItem("sortActions_ppc"));let a={startDate:null!==U&&void 0!==U&&U.startDate?r()(null===U||void 0===U?void 0:U.startDate).format("YYYY-MM-DD"):r()().subtract(6,"days").format("YYYY-MM-DD"),endDate:null!==U&&void 0!==U&&U.endDate?r()(null===U||void 0===U?void 0:U.endDate).format("YYYY-MM-DD"):r()().startOf("day").format("YYYY-MM-DD"),comparison_startDate:null!==U&&void 0!==U&&U.comparison_startDate?r()(null===U||void 0===U?void 0:U.comparison_startDate).format("YYYY-MM-DD"):r()().subtract(13,"days").format("YYYY-MM-DD"),comparison_endDate:null!==U&&void 0!==U&&U.comparison_endDate?r()(null===U||void 0===U?void 0:U.comparison_endDate).format("YYYY-MM-DD"):r()().startOf(7,"day").format("YYYY-MM-DD"),store_id:H||(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.store_id),group_by:P,filter:{action:(null===i||void 0===i?void 0:i.action)||"sort",name:(null===i||void 0===i||null===(t=i.sortOrder)||void 0===t?void 0:t.name)||"ad_spend",direction:(null===i||void 0===i||null===(l=i.sortOrder)||void 0===l?void 0:l.direction)||"desc"},search:null===s||void 0===s?void 0:s.search,limit:(null===s||void 0===s?void 0:s.limit)||10,page:(null===s||void 0===s?void 0:s.page)||0};I((0,S.tb)(a))}}),[U,C,s,P]),(0,e.useEffect)((()=>{var o,t;L&&null!==L&&void 0!==L&&L.data&&(null===L||void 0===L||null===(o=L.data)||void 0===o?void 0:o.length)>0?l(null===L||void 0===L||null===(t=L.data)||void 0===t?void 0:t.map((o=>[o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o]))):l([])}),[L]);const Q=(t,l,e)=>{const i=null!==q&&void 0!==q&&q.includes(e)?t:t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=null!==q&&void 0!==q&&q.includes(e)?l:l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),n="string"===typeof i&&i.includes("-")?i.replace("-",""):i,s="string"===typeof a&&a.includes("-")?a.replace("-",""):a,r=null===L||void 0===L?void 0:L.formation[e];let c="$"==r?r+n:"%"==r?n+r:n,u="$"==r?r+s:"%"==r?s+r:s,p=null!==G&&void 0!==G&&G.includes(e)&&0!=t||t<0?"-"+c:c,v=null!==G&&void 0!==G&&G.includes(e)&&0!=l||l<0?"-"+u:u,m=null!==G&&void 0!==G&&G.includes(e)?-Math.abs(t):t,_=(t-l)/l*100,g="";return g=isFinite(_)?E.includes(e)?"grey":V.includes(e)?_>0?o.palette.error.dark:_<0?o.palette.success.dark:"grey":_>0?o.palette.success.dark:_<0?o.palette.error.dark:"grey":"grey",(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(f.Z,{sx:{display:"flex"},children:[(0,F.jsx)(d.Z,{style:{fontSize:"0.75rem",textAlign:"center",color:0==t||J.includes(e)?"grey":m>0?o.palette.success.dark:o.palette.orange.dark},children:isFinite(t)?p:"N/A"}),(0,F.jsxs)(d.Z,{sx:{display:"flex",marginLeft:"10px"},children:[isFinite(_)?Math.round(_)>0?(0,F.jsx)(d.Z,{sx:{color:E.includes(e)?"grey":V.includes(e)?o.palette.error.dark:o.palette.success.dark,fontSize:"0.70rem"},children:(0,F.jsx)(Z.Z,{fontSize:"small",sx:{width:"0.8rem",height:"0.8rem"}})}):Math.round(_)<0&&(0,F.jsx)(d.Z,{sx:{color:E.includes(e)?"grey":V.includes(e)?o.palette.success.dark:o.palette.error.dark,fontSize:"0.70rem"},children:(0,F.jsx)(k.Z,{fontSize:"small",sx:{width:"0.8rem",height:"0.8rem"}})}):"",(0,F.jsx)(d.Z,{style:{color:g,fontSize:"0.70rem",textAlign:"center"},children:_?isFinite(_)?`${Math.round(_)}%`:"N/A":"0%"})]})]}),B&&(0,F.jsx)(d.Z,{style:{textAlign:"left",fontSize:"0.6rem"},children:isFinite(l)?v:"N/A"})]})},X=[{name:"product_category",label:"Product Category",options:{setCellProps:()=>({style:{background:"#fff",minWidth:"200px",maxWidth:"200px",fontSize:"0.75rem",position:"sticky",left:0,zIndex:1}}),filter:!0,sort:!0,display:O.product_category,customHeadRender:o=>(0,F.jsx)("th",{style:{position:"sticky",top:0,background:"#fff",zIndex:999,left:0,borderBottom:"1px solid rgba(224, 224, 224, 1)",fontWeight:500,fontSize:"13px"},children:o.label},o.index),customBodyRender:o=>(0,F.jsx)(f.Z,{sx:{display:"flex"},children:(0,F.jsx)(d.Z,{style:{fontSize:"0.75rem",display:"flex"},variant:"body2",children:(null===o||void 0===o?void 0:o.product_category)||(null===o||void 0===o?void 0:o.shelf_name)||(null===o||void 0===o?void 0:o.product_type)})})}},{name:"average_price",label:"Average Price",options:{setCellProps:()=>({style:{minWidth:"105px",maxWidth:"200px"}}),filter:!0,sort:!0,display:O.average_price,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.average_price,null===o||void 0===o?void 0:o.comparison_average_price,"average_price")}},{name:"ad_sales",label:"Ad Sales",options:{display:O.ad_sales,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.ad_sales,null===o||void 0===o?void 0:o.comparison_ad_sales,"ad_sales")}},{name:"product_price",label:"Current Price",options:{display:O.product_price,setCellProps:()=>({style:{minWidth:"105px",maxWidth:"200px"}}),filter:!0,sort:!0,customBodyRender:o=>(0,F.jsx)(f.Z,{sx:{display:"flex"},children:(0,F.jsx)(d.Z,{style:{fontSize:"0.75rem",textAlign:"center"},children:0!==(null===o||void 0===o?void 0:o.product_price)?`$${null===o||void 0===o?void 0:o.product_price.toFixed(2)}`:"$0.00"})})}},{name:"total_amount_sale",label:"Sales",options:{filter:!0,sort:!0,display:O.total_amount_sale,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.total_amount_sale,null===o||void 0===o?void 0:o.comparison_total_amount_sale,"total_amount_sale")}},{name:"units_sold",label:"Units Sold",options:{display:O.units_sold,setCellProps:()=>({style:{minWidth:"90px",maxWidth:"200px"}}),filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.units_sold,null===o||void 0===o?void 0:o.comparison_units_sold,"units_sold")}},{name:"ad_spend",label:"Ad Spend",options:{filter:!0,sort:!0,display:O.ad_spend,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.ad_spend,null===o||void 0===o?void 0:o.comparison_ad_spend,"ad_spend")}},{name:"total_commission_amount",label:"Commission",options:{display:O.total_commission_amount,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.total_commission_amount,null===o||void 0===o?void 0:o.comparison_total_commission_amount,"total_commission_amount")}},{name:"total_dispute_amount",label:"Dispute",options:{display:O.total_dispute_amount,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.total_dispute_amount,null===o||void 0===o?void 0:o.comparison_total_dispute_amount,"total_dispute_amount")}},{name:"total_return_amount",label:"Returns",options:{display:O.total_return_amount,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.total_return_amount,null===o||void 0===o?void 0:o.comparison_total_return_amount,"total_return_amount")}},{name:"total_wfs_amount",label:"WFS Fees",options:{display:O.total_wfs_amount,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.total_wfs_amount,null===o||void 0===o?void 0:o.comparison_total_wfs_amount,"total_wfs_amount")}},{name:"cap_total",label:"CAP",options:{filter:!0,sort:!0,display:O.cap_total,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.cap_total,null===o||void 0===o?void 0:o.comparison_cap_total,"cap_total")}},{name:"ad_units",label:"Ad Units",options:{display:O.ad_units,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.ad_units,null===o||void 0===o?void 0:o.comparison_ad_units,"ad_units")}},{name:"total_sales_order",label:"Orders",options:{display:O.total_sales_order,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.total_sales_order,null===o||void 0===o?void 0:o.comparison_total_sales_order,"total_sales_order")}},{name:"adv_orders",label:"Ad Orders",options:{setCellProps:()=>({style:{minWidth:"90px",maxWidth:"200px"}}),display:O.adv_orders,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.adv_orders,null===o||void 0===o?void 0:o.comparison_adv_orders,"adv_orders")}},{name:"organic_sales",label:"Organic Sales",options:{display:O.organic_sales,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.organic_sales,null===o||void 0===o?void 0:o.comparison_organic_sales,"organic_sales")}},{name:"organic_sales_percentage",label:"Organic Sales %",options:{setCellProps:()=>({style:{minWidth:"115px",maxWidth:"200px"}}),display:O.organic_sales_percentage,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.organic_sales_percentage,null===o||void 0===o?void 0:o.comparison_organic_sales_percentage,"organic_sales_percentage")}},{name:"roas",label:"RoAS",options:{display:O.roas,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.roas,null===o||void 0===o?void 0:o.comparison_roas,"roas")}},{name:"tacos",label:"TACoS",options:{display:O.tacos,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.tacos,null===o||void 0===o?void 0:o.comparison_tacos,"tacos")}},{name:"troas",label:"TRoAS",options:{display:O.troas,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.troas,null===o||void 0===o?void 0:o.comparison_troas,"troas")}},{name:"acos",label:"ACoS",options:{display:O.acos,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.acos,null===o||void 0===o?void 0:o.comparison_acos,"acos")}},{name:"impressions",label:"Impressions",options:{display:O.impressions,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.impressions,null===o||void 0===o?void 0:o.comparison_impressions,"impressions")}},{name:"total_clicks",label:"Clicks",options:{display:O.total_clicks,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.total_clicks,null===o||void 0===o?void 0:o.comparison_total_clicks,"total_clicks")}},{name:"ctr",label:"CTR",options:{display:O.ctr,filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.ctr,null===o||void 0===o?void 0:o.comparison_ctr,"ctr")}},{name:"cvr_oder",label:"CVR (Orders)",options:{display:O.cvr_oder,setCellProps:()=>({style:{minWidth:"100px",maxWidth:"200px"}}),filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.cvr_oder,null===o||void 0===o?void 0:o.comparison_cvr_oder,"cvr_oder")}},{name:"cvr_unit",label:"CVR (Units)",options:{display:O.cvr_unit,setCellProps:()=>({style:{minWidth:"100px",maxWidth:"200px"}}),filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.cvr_unit,null===o||void 0===o?void 0:o.comparison_cvr_unit,"cvr_unit")}},{name:"return_unit",label:"Returned Units",options:{display:O.return_unit,setCellProps:()=>({style:{minWidth:"108px",maxWidth:"200px"}}),filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.return_unit,null===o||void 0===o?void 0:o.comparison_return_unit,"return_unit")}},{name:"shipping_total",label:"Shipping Fees",options:{display:O.shipping_total,setCellProps:()=>({style:{minWidth:"108px",maxWidth:"200px"}}),filter:!0,sort:!0,customBodyRender:o=>Q(null===o||void 0===o?void 0:o.shipping_total,null===o||void 0===o?void 0:o.comparison_shipping_total,"shipping_total")}},{name:"profit_margin",label:"Profit Margin %",options:{display:O.profit_margin,setCellProps:()=>({style:{minWidth:"110px",maxWidth:"200px"}}),filter:!0,sort:!0,customBodyRender:t=>{const l=(null===t||void 0===t?void 0:t.total_pnl)/(null===t||void 0===t?void 0:t.total_amount_sale)*100,e=(null===t||void 0===t?void 0:t.comparison_total_pnl)/(null===t||void 0===t?void 0:t.comparison_total_amount_sale)*100;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(f.Z,{sx:{display:"flex"},children:[(0,F.jsx)(d.Z,{style:{fontSize:"0.75rem",textAlign:"center",color:t&&isFinite(l)?l>0?o.palette.success.dark:l<0?o.palette.error.dark:"grey":"grey"},children:null!==t&&void 0!==t&&t.total_pnl?isFinite(l)?`${parseFloat(l).toFixed(2)}%`:"N/A":"0.00%"}),(0,F.jsxs)(d.Z,{sx:{display:"flex",marginLeft:"10px"},children:[t&&isFinite((l-e)/Math.abs(e)*100)?Math.round((l-e)/Math.abs(e)*100)>0?(0,F.jsx)(d.Z,{sx:{color:o.palette.success.dark,fontSize:"0.70rem"},children:(0,F.jsx)(Z.Z,{fontSize:"small",sx:{width:"0.8rem",height:"0.8rem"}})}):(l-e)/Math.abs(e)*100<0&&(0,F.jsx)(d.Z,{sx:{color:o.palette.error.dark,fontSize:"0.70rem"},children:(0,F.jsx)(k.Z,{fontSize:"small",sx:{width:"0.8rem",height:"0.8rem"}})}):"",(0,F.jsx)(d.Z,{style:{color:t&&isFinite((l-e)/Math.abs(e)*100)?(l-e)/Math.abs(e)*100>0?o.palette.success.dark:(l-e)/Math.abs(e)*100<0?o.palette.error.dark:"grey":"grey",fontSize:"0.70rem",textAlign:"center"},children:l||e?isFinite(((l-e)/Math.abs(e)*100).toFixed(2))?`${Math.round((l-e)/Math.abs(e)*100)}%`:"N/A":"0%"})]})]}),B&&(0,F.jsx)(d.Z,{style:{fontSize:"0.6rem",textAlign:"left",color:t&&isFinite(e)?e>0?o.palette.success.dark:e<0?o.palette.error.dark:"grey":"grey"},children:(null===t||void 0===t?void 0:t.comparison_total_pnl)/(null===t||void 0===t?void 0:t.comparison_total_amount_sale)?isFinite(e)?`${parseFloat(e).toFixed(2)}%`:"N/A":"0.00%"})]})}}},{name:"total_pnl",label:"Total Pnl",options:{display:O.total_pnl,filter:!0,sort:!0,customBodyRender:t=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(f.Z,{sx:{display:"flex"},children:[(0,F.jsx)(d.Z,{style:{fontSize:"0.75rem",fontWeight:700,textAlign:"center",color:0==(null===t||void 0===t?void 0:t.total_pnl)?"grey":(null===t||void 0===t?void 0:t.total_pnl)>0?o.palette.success.dark:o.palette.orange.dark},children:null!==t&&void 0!==t&&t.total_pnl?isFinite(null===t||void 0===t?void 0:t.total_pnl)?`${parseFloat(null===t||void 0===t?void 0:t.total_pnl)<0?"-$":"$"}${Math.abs(parseFloat(null===t||void 0===t?void 0:t.total_pnl)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A":"$0.00"}),(0,F.jsxs)(d.Z,{sx:{display:"flex",marginLeft:"10px"},children:[t&&isFinite(((null===t||void 0===t?void 0:t.total_pnl)-(null===t||void 0===t?void 0:t.comparison_total_pnl))/Math.abs(null===t||void 0===t?void 0:t.comparison_total_pnl)*100)?Math.round(((null===t||void 0===t?void 0:t.total_pnl)-(null===t||void 0===t?void 0:t.comparison_total_pnl))/Math.abs(null===t||void 0===t?void 0:t.comparison_total_pnl)*100)>0?(0,F.jsx)(d.Z,{sx:{color:o.palette.success.dark,fontSize:"0.70rem"},children:(0,F.jsx)(Z.Z,{fontSize:"small",sx:{width:"0.8rem",height:"0.8rem"}})}):((null===t||void 0===t?void 0:t.total_pnl)-(null===t||void 0===t?void 0:t.comparison_total_pnl))/Math.abs(null===t||void 0===t?void 0:t.comparison_total_pnl)*100<0&&(0,F.jsx)(d.Z,{sx:{color:o.palette.error.dark,fontSize:"0.70rem"},children:(0,F.jsx)(k.Z,{fontSize:"small",sx:{width:"0.8rem",height:"0.8rem"}})}):"",(0,F.jsx)(d.Z,{style:{color:t&&isFinite(((null===t||void 0===t?void 0:t.total_pnl)-(null===t||void 0===t?void 0:t.comparison_total_pnl))/Math.abs(null===t||void 0===t?void 0:t.comparison_total_pnl)*100)?((null===t||void 0===t?void 0:t.total_pnl)-(null===t||void 0===t?void 0:t.comparison_total_pnl))/Math.abs(null===t||void 0===t?void 0:t.comparison_total_pnl)*100>0?o.palette.success.dark:((null===t||void 0===t?void 0:t.total_pnl)-(null===t||void 0===t?void 0:t.comparison_total_pnl))/Math.abs(null===t||void 0===t?void 0:t.comparison_total_pnl)*100<0?o.palette.error.dark:"grey":"grey",fontSize:"0.70rem",textAlign:"center"},children:null!==t&&void 0!==t&&t.total_pnl||null!==t&&void 0!==t&&t.comparison_total_pnl?isFinite((((null===t||void 0===t?void 0:t.total_pnl)-(null===t||void 0===t?void 0:t.comparison_total_pnl))/Math.abs(null===t||void 0===t?void 0:t.comparison_total_pnl)*100).toFixed(2))?`${Math.round(((null===t||void 0===t?void 0:t.total_pnl)-(null===t||void 0===t?void 0:t.comparison_total_pnl))/Math.abs(null===t||void 0===t?void 0:t.comparison_total_pnl)*100)}%`:"N/A":"0%"})]})]}),B&&(0,F.jsx)(d.Z,{style:{fontSize:"0.6rem",fontWeight:700,textAlign:"left",color:0==(null===t||void 0===t?void 0:t.comparison_total_pnl)?"grey":(null===t||void 0===t?void 0:t.comparison_total_pnl)>0?o.palette.success.dark:o.palette.orange.dark},children:null!==t&&void 0!==t&&t.comparison_total_pnl?isFinite(null===t||void 0===t?void 0:t.comparison_total_pnl)?`${parseFloat(null===t||void 0===t?void 0:t.comparison_total_pnl)<0?"-$":"$"}${Math.abs(parseFloat(null===t||void 0===t?void 0:t.comparison_total_pnl)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A":"$0.00"})]})}}],oo=(o,t)=>{const l=null===L||void 0===L?void 0:L.formation[o];return"$"===l?void 0!==t&&null!==t?t<0?`-$${Math.abs(t).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`:`$${t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`:"":"%"===l?void 0!==t&&null!==t?`${t.toFixed(2)}%`:"":"int"===l?void 0!==t&&null!==t?`${Math.round(t)}`:"":t},to={tableBodyHeight:"calc(100vh - 310px)",selectableRows:"none",download:!1,stickyHeader:!0,count:null===L||void 0===L?void 0:L.count,print:!1,filter:!1,rowsPerPageOptions:[10,20,30],serverSide:!0,onTableChange:(o,t)=>{var l;const e=null===t||void 0===t||null===(l=t.columns)||void 0===l?void 0:l.filter((o=>"true"===(null===o||void 0===o?void 0:o.display))).map((o=>null===o||void 0===o?void 0:o.label));if(null!==t&&void 0!==t&&t.rowsPerPage&&localStorage.setItem("visibleColumns",JSON.stringify(e)),"search"===o||"sort"==o||"changeRowsPerPage"==o||"changePage"==o){const l={action:o,page:null===t||void 0===t?void 0:t.page,limit:null===t||void 0===t?void 0:t.rowsPerPage,search:null===t||void 0===t?void 0:t.searchText,sortOrder:null===t||void 0===t?void 0:t.sortOrder};R(l),localStorage.setItem("sortActions_ppc",JSON.stringify(l))}if("viewColumnsChange"==o){let o={};null===t||void 0===t||t.columns.map((t=>{o={...o,[null===t||void 0===t?void 0:t.name]:"true"==(null===t||void 0===t?void 0:t.display)}})),N(o)}},customToolbar:()=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(c.Z,{control:(0,F.jsx)(M.Z,{checked:B,onChange:K,name:"mySwitch",color:"primary"}),label:"Comparison Data",labelPlacement:"start"}),(0,F.jsxs)(u.Z,{sx:{ml:1},size:"small",variant:"outlined",component:"span",onClick:()=>(()=>{var o;const t=JSON.parse(localStorage.getItem("user_data")),l=localStorage.getItem("visibleColumns"),e=l?JSON.parse(l):[];let i={startDate:null!==U&&void 0!==U&&U.startDate?r()(null===U||void 0===U?void 0:U.startDate).format("YYYY-MM-DD"):r()().subtract(6,"days").format("YYYY-MM-DD"),endDate:null!==U&&void 0!==U&&U.endDate?r()(null===U||void 0===U?void 0:U.endDate).format("YYYY-MM-DD"):r()().startOf("day").format("YYYY-MM-DD"),selectedMetrix:e,store_id:H||(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.store_id),group_by:P};I((0,D.Sp)(i))})(),children:[(0,F.jsx)(b.Z,{fontSize:"small"}),"Export"]})]}),customTableBodyFooterRender:()=>{var o;const t=Object.keys(O),l=null===t||void 0===t||null===(o=t.filter((o=>!0===O[o])))||void 0===o?void 0:o.map((o=>{if(null!==L&&void 0!==L&&L.total&&1==O[o])return{name:[o],value:"product_category"==o?"Total":oo(o,null===L||void 0===L?void 0:L.total[o])}}));return(0,F.jsx)(p.Z,{style:{position:"sticky",bottom:-1,background:"white",zIndex:1e3},children:(0,F.jsx)(v.Z,{sx:{background:"#dedede"},children:null===l||void 0===l?void 0:l.map(((o,t)=>(0,F.jsx)(F.Fragment,{children:"product_category"==(null===o||void 0===o?void 0:o.name)?(0,F.jsx)(m.Z,{sx:{background:"#dedede",minWidth:"350px",maxWidth:"350px",fontSize:"0.98rem",fontWeight:"bold",position:"sticky",left:0,zIndex:1},children:"Total"}):(0,F.jsx)(m.Z,{sx:{fontWeight:"bold",fontSize:"0.98rem"},children:null===o||void 0===o?void 0:o.value},t)})))})})}};return(0,F.jsxs)(F.Fragment,{children:[(null===T||void 0===T?void 0:T.loading)&&(0,F.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999},children:(0,F.jsx)(_.Z,{color:"secondary"})}),(0,F.jsx)(n.Z,{title:(0,F.jsxs)(g.Z,{size:"small",children:[(0,F.jsx)(h.Z,{id:"category-label",children:"Group by"}),(0,F.jsx)(x.Z,{labelId:"category-label",id:"category",value:P,label:"Group by",onChange:o=>{$(o.target.value)},style:{minWidth:"120px",minHeight:"40px"},children:w.map((o=>(0,F.jsx)(y.Z,{value:o.name,children:o.label},o.name)))})]}),children:(0,F.jsx)(i.ZP,{options:to,data:t,columns:X,className:"pnl-by-item"})})]})}},43638:function(o,t,l){var e=l(64836);t.Z=void 0;var i=e(l(45045)),a=l(46417),n=(0,i.default)((0,a.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.Z=n},72445:function(o,t,l){var e=l(64836);t.Z=void 0;var i=e(l(45045)),a=l(46417),n=(0,i.default)((0,a.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");t.Z=n},25660:function(o,t,l){var e=l(64836);t.Z=void 0;var i=e(l(45045)),a=l(46417),n=(0,i.default)((0,a.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload");t.Z=n}}]);