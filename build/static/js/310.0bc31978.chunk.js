"use strict";(self.webpackChunkmetrics=self.webpackChunkmetrics||[]).push([[310,361],{20710:function(e,r,t){t.d(r,{$5:function(){return d},Nn:function(){return c},WY:function(){return m},fZ:function(){return u}});var l=t(80827),a=t(3509),i=t(40789),n=t(54886),s=t(98189),o=t(5140);const d=(0,l.hg)("getSellerList",(async(e,r)=>{let{dispatch:t}=r;try{t((0,a.K4)(!0));const e=await(0,o.Z)().get("/users");t((0,a.K4)(!1)),null!==e&&void 0!==e&&e.data?t((0,n.Zx)(null===e||void 0===e?void 0:e.data)):t((0,i.tK)(s.Z.ERROR.DEFAULT))}catch(l){t((0,a.K4)(!1)),t((0,i.tK)(s.Z.ERROR.DEFAULT))}})),c=(0,l.hg)("updateSellerData",(async(e,r)=>{let{dispatch:t}=r;try{t((0,a.K4)(!0));const r=await(0,o.Z)().put(`/users/update/${e.seller_id}`,e.data);var l;if(t((0,a.K4)(!1)),null!==r&&void 0!==r&&r.data)t((0,i.$h)(null===r||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)),t(d()),e.callbackFunc();else t((0,i.tK)(s.Z.ERROR.DEFAULT))}catch(u){var n,c;t((0,a.K4)(!1)),t((0,i.tK)((null===u||void 0===u||null===(n=u.response)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.message)||s.Z.ERROR.DEFAULT))}})),u=(0,l.hg)("createSellerData",(async(e,r)=>{let{dispatch:t}=r;try{t((0,a.K4)(!0));const r=await(0,o.Z)().post("/users/create",e.data);t((0,a.K4)(!1)),null!==r&&void 0!==r&&r.data?(t((0,i.$h)("Seller created successfully")),t(d()),e.callbackFunc()):t((0,i.tK)(s.Z.ERROR.DEFAULT))}catch(c){var l,n;t((0,a.K4)(!1)),t((0,i.tK)((null===c||void 0===c||null===(l=c.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||s.Z.ERROR.DEFAULT))}})),m=(0,l.hg)("deleteSellerData",(async(e,r)=>{let{dispatch:t}=r;try{t((0,a.K4)(!0));const r=await(0,o.Z)().delete(`/users/delete/${e.seller_id}`);var l,n;if(null!==r&&void 0!==r&&r.data)e.callbackFunc(),t(d()),t((0,a.K4)(!1)),t((0,i.$h)(null===r||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message));else t((0,i.tK)((null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||s.Z.ERROR.DEFAULT))}catch(m){var c,u;t((0,a.K4)(!1)),t((0,i.tK)((null===m||void 0===m||null===(c=m.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)||s.Z.ERROR.DEFAULT))}}))},4071:function(e,r,t){t.d(r,{Z:function(){return m}});t(47313);var l=t(71003),a=t(94469),i=t(6961),n=t(69625),s=t(72461),o=t(33604),d=t(98668),c=t(48420),u=t(46417);function m(e){const{open:r,cancelCallback:t,deleteCallback:m,item:f}=e,p=(0,c.CG)((e=>e.dataLoading));return(0,u.jsx)("div",{children:(0,u.jsxs)(a.Z,{open:r,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(o.Z,{id:"alert-dialog-title",children:"Delete Confirmation"}),(0,u.jsx)(n.Z,{children:(0,u.jsx)(s.Z,{id:"alert-dialog-description",children:`Are you sure want to delete this ${f||"item"}?`})}),(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(l.Z,{onClick:t,children:"Cancel"}),(0,u.jsxs)(l.Z,{onClick:m,autoFocus:!0,sx:{color:"red"},disabled:p.loading,children:[p.loading&&(0,u.jsx)(d.Z,{sx:{color:"#0000001f",mr:"10px"},size:"10px"}),"Delete"]})]})]})})}},70872:function(e,r,t){var l=t(75627),a=t(8047),i=t(1082),n=t(47313),s=t(89332),o=t(22611),d=t(46417);const c=n.forwardRef((e=>{const{control:r,rules:t,disabled:c,name:u,errors:m,label:f,fullWidth:p,helperText:h}=e,[v,x]=(0,n.useState)(!1),Z=e=>{" "===e.key&&e.preventDefault()};return(0,d.jsx)(l.Qr,{name:u,control:r,rules:{...t,minLength:5,pattern:{value:/^(\S+$)/,message:"invalid email address"}},render:e=>{let{field:r}=e;return(0,d.jsx)(a.Z,{...r,type:v?"text":"password",onKeyPress:Z,fullWidth:p,label:f,disabled:c,error:m[u],helperText:m[u]&&"required"===m[u].type?`Please add valid ${f}`:h,InputProps:{endAdornment:(0,d.jsx)(i.Z,{position:"start",sx:{cursor:"pointer"},children:v?(0,d.jsx)(o.Z,{onClick:()=>x(!v)}):(0,d.jsx)(s.Z,{onClick:()=>x(!v)})})}})}})}));r.Z=c},83247:function(e,r,t){t.d(r,{Z:function(){return m}});var l=t(75627),a=t(47313),i=t(36672),n=t(57204),s=t(47992),o=t(49914),d=t(20715),c=t(46417);const u=a.forwardRef((function(e,r){const{onChange:t,...l}=e;return(0,c.jsx)(i.oc,{...l,mask:"(#00) 000-0000",definitions:{"#":/[1-9]/},inputRef:r,onAccept:r=>t({target:{name:e.name,value:r}}),overwrite:!0})}));function m(e){const{control:r,rules:t,disabled:a,name:i,errors:m,label:f,fullWidth:p,type:h,helperText:v}=e;return(0,c.jsx)(l.Qr,{name:i,control:r,rules:{...t,minLength:14},render:e=>{let{field:r}=e;return(0,c.jsxs)(n.Z,{variant:"standard",fullWidth:p,children:[(0,c.jsx)(s.Z,{error:m[i],sx:{zIndex:"99",left:"14px",top:"-6px"},children:f}),(0,c.jsx)(o.Z,{...r,type:h,label:f,disabled:a,error:m[i],inputComponent:u}),(0,c.jsx)(d.Z,{sx:{color:"red",ml:"10px"},children:m&&m[i]&&"required"===m[i].type?`Please select valid ${f}`:v})]})}})}},93491:function(e,r,t){var l=t(75627),a=t(69173),i=t(67426),n=t(46417);r.Z=e=>{const{control:r,rules:t,disabled:s,name:o,errors:d,label:c,defaultValue:u,isChecked:m}=e;return(0,n.jsx)(l.Qr,{name:o,control:r,rules:t,defaultValue:u,render:e=>{let{field:r}=e;return(0,n.jsx)(a.Z,{control:(0,n.jsx)(i.Z,{...r,disabled:s,error:d[o],defaultChecked:m}),label:c})}})}},48491:function(e,r,t){var l=t(75627),a=t(8047),i=t(46417);r.Z=e=>{const{control:r,rules:t,disabled:n,name:s,errors:o,label:d,fullWidth:c,type:u,helperText:m}=e;return(0,i.jsx)(l.Qr,{name:s,control:r,rules:{...t,pattern:{value:/^(\S+$)/,message:"invalid email address"}},render:e=>{let{field:r}=e;return(0,i.jsx)(a.Z,{type:u,...r,fullWidth:c,label:d,disabled:n,error:o[s],helperText:o&&o[s]&&"required"===o[s].type?`Please add valid ${d}`:m})}})}},16310:function(e,r,t){t.r(r),t.d(r,{default:function(){return K}});var l=t(47313),a=t(7794),i=t(33497),n=t(67426),s=t(80836),o=t(71003),d=t(20710),c=t(48420),u=t(51997),m=t(65954),f=t(50301),p=t(94469),h=t(33604),v=t(69625),x=t(19641),Z=t(6961),b=t(98668),j=t(75627),y=t(48491),_=t(93491),g=t(70872),C=t(83247),R=t(3463),k=t(62563),w=t(46417);const E=l.forwardRef((function(e,r){return(0,w.jsx)(f.Z,{direction:"up",ref:r,...e})}));var S=e=>{var r,t,l,a,i;const{open:n,handleClose:s,updateSeller:d,sellerData:u}=e,m=(0,c.CG)((e=>e.dataLoading)),f=R.Ry().shape({first_name:R.Z_().matches(/^[^\d]+$/,"Numbers are not allowed").required("First name is required").trim(),last_name:R.Z_().matches(/^[^\d]+$/,"Numbers are not allowed").required("Last name is required").trim(),email:R.Z_().email("Must be a valid email").required("Email is required").trim(),phone:R.Z_().required("Please enter phone number"),password:R.Z_().required("Password is required").trim()}),{register:S,handleSubmit:T,control:K,formState:{errors:L}}=(0,j.cI)({defaultValues:u.id?u:{},mode:"onTouched",resolver:(0,k.X)(f)});return(0,w.jsxs)(p.Z,{open:n,TransitionComponent:E,keepMounted:!0,onClose:s,"aria-describedby":"alert-dialog-slide-description",children:[(0,w.jsxs)(h.Z,{children:[u.id?"Edit":"Add"," Seller information"]}),(0,w.jsxs)("form",{onSubmit:T((e=>{d(e)})),children:[(0,w.jsx)(v.Z,{children:(0,w.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,w.jsx)(x.ZP,{item:!0,sm:6,children:(0,w.jsx)(y.Z,{label:"First Name",control:K,rules:{required:!0},disabled:!1,helperText:null===(r=L.first_name)||void 0===r?void 0:r.message,name:"first_name",errors:L,fullWidth:!0,...S("first_name")})}),(0,w.jsx)(x.ZP,{item:!0,sm:6,children:(0,w.jsx)(y.Z,{label:"Last Name",control:K,rules:{required:!0},helperText:null===(t=L.last_name)||void 0===t?void 0:t.message,disabled:!1,name:"last_name",errors:L,fullWidth:!0,...S("last_name")})}),(0,w.jsx)(x.ZP,{item:!0,sm:6,children:(0,w.jsx)(y.Z,{label:"Email",control:K,rules:{required:!0},disabled:!!u.id,helperText:null===(l=L.email)||void 0===l?void 0:l.message,name:"email",errors:L,fullWidth:!0,...S("email")})}),!u.id&&(0,w.jsx)(x.ZP,{item:!0,sm:6,children:(0,w.jsx)(g.Z,{label:"Password",control:K,rules:{required:!0},helperText:null===(a=L.password)||void 0===a?void 0:a.message,name:"password",errors:L,fullWidth:!0,...S("password")})}),(0,w.jsx)(x.ZP,{item:!0,sm:6,children:(0,w.jsx)(C.Z,{type:"tel",label:"Phone no.",control:K,rules:{required:!0},helperText:null===(i=L.phone)||void 0===i?void 0:i.message,name:"phone",errors:L,fullWidth:!0,...S("phone")})}),(0,w.jsx)(x.ZP,{item:!0,sm:6,children:(0,w.jsx)(_.Z,{label:"Active",control:K,disabled:!1,name:"is_active",errors:L,fullWidth:!0,isChecked:!u.id||u.is_active,defaultValue:!0})})]})}),(0,w.jsxs)(Z.Z,{children:[(0,w.jsx)(o.Z,{onClick:s,children:"Cancel"}),(0,w.jsxs)(o.Z,{type:"submit",variant:"contained",disabled:m.loading,children:[m.loading&&(0,w.jsx)(b.Z,{sx:{color:"#0000001f",mr:"10px"},size:"15px"}),u.id?"Update":"Add"]})]})]})]})},T=t(4071);var K=()=>{const[e,r]=(0,l.useState)([]),[t,f]=(0,l.useState)(!1),[p,h]=(0,l.useState)({}),[v,x]=(0,l.useState)(!1),[Z,b]=(0,l.useState)({}),j=(0,c.CG)((e=>e.sellerSlice.list)),y=(0,c.TL)();(0,l.useEffect)((()=>{y((0,d.$5)())}),[]),(0,l.useEffect)((()=>{j&&j.length>0&&r(j.map((e=>[e.company_name||"-",e.email,e.first_name,e.last_name,e.is_active,e.user_type,e])))}),[j]);const _=e=>{e.id?y((0,d.Nn)({data:{first_name:e.first_name,last_name:e.last_name,email:e.email,is_active:e.is_active,phone:e.phone,user_type:2,client_id:e.client_id,client_secret:e.client_secret},seller_id:e.id,callbackFunc:g})):y((0,d.fZ)({data:{first_name:e.first_name,last_name:e.last_name,email:e.email,is_active:e.is_active,phone:e.phone,user_type:2,password:e.password,client_id:e.client_id,client_secret:e.client_secret},callbackFunc:g}))},g=e=>{f(!t),h(e||{})},C=e=>{x(!v),b(e||{})},R=[{name:"company_name",label:"Company Name",options:{filter:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"first_name",label:"First Name",options:{filter:!0,sort:!1}},{name:"last_name",label:"Last name",options:{filter:!0,sort:!1}},{name:"is_active",label:"Active",options:{filter:!0,sort:!1,customBodyRender:e=>(0,w.jsx)(n.Z,{checked:e})}},{name:"user_type",label:"Type",options:{filter:!0,sort:!1,customBodyRender:e=>2==e?"Seller Admin":"Admin"}},{name:"actions",label:"Actions",options:{filter:!0,sort:!1,customBodyRender:e=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.Z,{onClick:()=>g(e),children:(0,w.jsx)(m.Z,{color:"primary"})}),(0,w.jsx)(s.Z,{onClick:()=>C(e),children:(0,w.jsx)(u.default,{color:"error"})})]})}}],k={selectableRows:"none",print:!1,download:!1,customToolbar:()=>(0,w.jsx)(o.Z,{onClick:g,children:"Add New"})};return(0,w.jsxs)(i.Z,{title:"Seller List",children:[(0,w.jsx)(a.ZP,{actions:[{icon:"save"}],data:e,columns:R,options:k}),t&&(0,w.jsx)(S,{open:t,handleClose:g,updateSeller:_,sellerData:p}),v&&(0,w.jsx)(T.Z,{item:"seller",cancelCallback:C,deleteCallback:()=>{null!==Z&&void 0!==Z&&Z.id&&y((0,d.WY)({seller_id:Z.id,callbackFunc:C}))},open:v,updateSeller:_})]})}},65954:function(e,r,t){var l=t(64836);r.Z=void 0;var a=l(t(45045)),i=t(46417),n=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=n},89332:function(e,r,t){var l=t(64836);r.Z=void 0;var a=l(t(45045)),i=t(46417),n=(0,a.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");r.Z=n},22611:function(e,r,t){var l=t(64836);r.Z=void 0;var a=l(t(45045)),i=t(46417),n=(0,a.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");r.Z=n},62563:function(e,r,t){t.d(r,{X:function(){return s}});var l=t(75627),a=function(e,r,t){if(e&&"reportValidity"in e){var a=(0,l.U2)(t,r);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},i=function(e,r){var t=function(t){var l=r.fields[t];l&&l.ref&&"reportValidity"in l.ref?a(l.ref,t,e):l.refs&&l.refs.forEach((function(r){return a(r,t,e)}))};for(var l in r.fields)t(l)},n=function(e,r){r.shouldUseNativeValidation&&i(e,r);var t={};for(var a in e){var n=(0,l.U2)(r.fields,a);(0,l.t8)(t,a,Object.assign(e[a]||{},{ref:n&&n.ref}))}return t},s=function(e,r,t){return void 0===r&&(r={}),void 0===t&&(t={}),function(s,o,d){try{return Promise.resolve(function(l,n){try{var c=(r.context,Promise.resolve(e["sync"===t.mode?"validateSync":"validate"](s,Object.assign({abortEarly:!1},r,{context:o}))).then((function(e){return d.shouldUseNativeValidation&&i({},d),{values:t.raw?s:e,errors:{}}})))}catch(a){return n(a)}return c&&c.then?c.then(void 0,n):c}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:n((r=e,t=!d.shouldUseNativeValidation&&"all"===d.criteriaMode,(r.inner||[]).reduce((function(e,r){if(e[r.path]||(e[r.path]={message:r.message,type:r.type}),t){var a=e[r.path].types,i=a&&a[r.type];e[r.path]=(0,l.KN)(r.path,t,e,r.type,i?[].concat(i,r.message):r.message)}return e}),{})),d)};var r,t})))}catch(a){return Promise.reject(a)}}}}}]);