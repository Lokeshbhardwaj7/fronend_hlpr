"use strict";(self.webpackChunkmetrics=self.webpackChunkmetrics||[]).push([[208],{20710:function(e,l,t){t.d(l,{$5:function(){return o},Nn:function(){return c},WY:function(){return m},fZ:function(){return u}});var r=t(80827),a=t(3509),i=t(40789),n=t(54886),s=t(98189),d=t(5140);const o=(0,r.hg)("getSellerList",(async(e,l)=>{let{dispatch:t}=l;try{t((0,a.K4)(!0));const e=await(0,d.Z)().get("/users");t((0,a.K4)(!1)),null!==e&&void 0!==e&&e.data?t((0,n.Zx)(null===e||void 0===e?void 0:e.data)):t((0,i.tK)(s.Z.ERROR.DEFAULT))}catch(r){t((0,a.K4)(!1)),t((0,i.tK)(s.Z.ERROR.DEFAULT))}})),c=(0,r.hg)("updateSellerData",(async(e,l)=>{let{dispatch:t}=l;try{t((0,a.K4)(!0));const l=await(0,d.Z)().put(`/users/update/${e.seller_id}`,e.data);var r;if(t((0,a.K4)(!1)),null!==l&&void 0!==l&&l.data)t((0,i.$h)(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)),t(o()),e.callbackFunc();else t((0,i.tK)(s.Z.ERROR.DEFAULT))}catch(u){var n,c;t((0,a.K4)(!1)),t((0,i.tK)((null===u||void 0===u||null===(n=u.response)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.message)||s.Z.ERROR.DEFAULT))}})),u=(0,r.hg)("createSellerData",(async(e,l)=>{let{dispatch:t}=l;try{t((0,a.K4)(!0));const l=await(0,d.Z)().post("/users/create",e.data);t((0,a.K4)(!1)),null!==l&&void 0!==l&&l.data?(t((0,i.$h)("Seller created successfully")),t(o()),e.callbackFunc()):t((0,i.tK)(s.Z.ERROR.DEFAULT))}catch(c){var r,n;t((0,a.K4)(!1)),t((0,i.tK)((null===c||void 0===c||null===(r=c.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||s.Z.ERROR.DEFAULT))}})),m=(0,r.hg)("deleteSellerData",(async(e,l)=>{let{dispatch:t}=l;try{t((0,a.K4)(!0));const l=await(0,d.Z)().delete(`/users/delete/${e.seller_id}`);var r,n;if(null!==l&&void 0!==l&&l.data)e.callbackFunc(),t(o()),t((0,a.K4)(!1)),t((0,i.$h)(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message));else t((0,i.tK)((null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||s.Z.ERROR.DEFAULT))}catch(m){var c,u;t((0,a.K4)(!1)),t((0,i.tK)((null===m||void 0===m||null===(c=m.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)||s.Z.ERROR.DEFAULT))}}))},4071:function(e,l,t){t.d(l,{Z:function(){return m}});t(47313);var r=t(71003),a=t(94469),i=t(6961),n=t(69625),s=t(72461),d=t(33604),o=t(98668),c=t(48420),u=t(46417);function m(e){const{open:l,cancelCallback:t,deleteCallback:m,item:h}=e,f=(0,c.CG)((e=>e.dataLoading));return(0,u.jsx)("div",{children:(0,u.jsxs)(a.Z,{open:l,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(d.Z,{id:"alert-dialog-title",children:"Delete Confirmation"}),(0,u.jsx)(n.Z,{children:(0,u.jsx)(s.Z,{id:"alert-dialog-description",children:`Are you sure want to delete this ${h||"item"}?`})}),(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(r.Z,{onClick:t,children:"Cancel"}),(0,u.jsxs)(r.Z,{onClick:m,autoFocus:!0,sx:{color:"red"},disabled:f.loading,children:[f.loading&&(0,u.jsx)(o.Z,{sx:{color:"#0000001f",mr:"10px"},size:"10px"}),"Delete"]})]})]})})}},70872:function(e,l,t){var r=t(75627),a=t(8047),i=t(1082),n=t(47313),s=t(89332),d=t(22611),o=t(46417);const c=n.forwardRef((e=>{const{control:l,rules:t,disabled:c,name:u,errors:m,label:h,fullWidth:f,helperText:p}=e,[v,x]=(0,n.useState)(!1),Z=e=>{" "===e.key&&e.preventDefault()};return(0,o.jsx)(r.Qr,{name:u,control:l,rules:{...t,minLength:5,pattern:{value:/^(\S+$)/,message:"invalid email address"}},render:e=>{let{field:l}=e;return(0,o.jsx)(a.Z,{...l,type:v?"text":"password",onKeyPress:Z,fullWidth:f,label:h,disabled:c,error:m[u],helperText:m[u]&&"required"===m[u].type?`Please add valid ${h}`:p,InputProps:{endAdornment:(0,o.jsx)(i.Z,{position:"start",sx:{cursor:"pointer"},children:v?(0,o.jsx)(d.Z,{onClick:()=>x(!v)}):(0,o.jsx)(s.Z,{onClick:()=>x(!v)})})}})}})}));l.Z=c},83247:function(e,l,t){t.d(l,{Z:function(){return m}});var r=t(75627),a=t(47313),i=t(36672),n=t(57204),s=t(47992),d=t(49914),o=t(20715),c=t(46417);const u=a.forwardRef((function(e,l){const{onChange:t,...r}=e;return(0,c.jsx)(i.oc,{...r,mask:"(#00) 000-0000",definitions:{"#":/[1-9]/},inputRef:l,onAccept:l=>t({target:{name:e.name,value:l}}),overwrite:!0})}));function m(e){const{control:l,rules:t,disabled:a,name:i,errors:m,label:h,fullWidth:f,type:p,helperText:v}=e;return(0,c.jsx)(r.Qr,{name:i,control:l,rules:{...t,minLength:14},render:e=>{let{field:l}=e;return(0,c.jsxs)(n.Z,{variant:"standard",fullWidth:f,children:[(0,c.jsx)(s.Z,{error:m[i],sx:{zIndex:"99",left:"14px",top:"-6px"},children:h}),(0,c.jsx)(d.Z,{...l,type:p,label:h,disabled:a,error:m[i],inputComponent:u}),(0,c.jsx)(o.Z,{sx:{color:"red",ml:"10px"},children:m&&m[i]&&"required"===m[i].type?`Please select valid ${h}`:v})]})}})}},93491:function(e,l,t){var r=t(75627),a=t(69173),i=t(67426),n=t(46417);l.Z=e=>{const{control:l,rules:t,disabled:s,name:d,errors:o,label:c,defaultValue:u,isChecked:m}=e;return(0,n.jsx)(r.Qr,{name:d,control:l,rules:t,defaultValue:u,render:e=>{let{field:l}=e;return(0,n.jsx)(a.Z,{control:(0,n.jsx)(i.Z,{...l,disabled:s,error:o[d],defaultChecked:m}),label:c})}})}},48491:function(e,l,t){var r=t(75627),a=t(8047),i=t(46417);l.Z=e=>{const{control:l,rules:t,disabled:n,name:s,errors:d,label:o,fullWidth:c,type:u,helperText:m}=e;return(0,i.jsx)(r.Qr,{name:s,control:l,rules:{...t,pattern:{value:/^(\S+$)/,message:"invalid email address"}},render:e=>{let{field:l}=e;return(0,i.jsx)(a.Z,{type:u,...l,fullWidth:c,label:o,disabled:n,error:d[s],helperText:d&&d[s]&&"required"===d[s].type?`Please add valid ${o}`:m})}})}},48208:function(e,l,t){t.r(l),t.d(l,{default:function(){return S}});var r=t(47313),a=t(7794),i=t(33497),n=t(71003),s=t(20710),d=t(48420),o=t(50301),c=t(94469),u=t(33604),m=t(69625),h=t(19641),f=t(6961),p=t(98668),v=t(75627),x=t(48491),Z=t(93491),b=t(70872),j=t(83247),_=t(46417);const C=r.forwardRef((function(e,l){return(0,_.jsx)(o.Z,{direction:"up",ref:l,...e})}));var g=e=>{const{open:l,handleClose:t,updateSeller:r,sellerData:a}=e,i=(0,d.CG)((e=>e.dataLoading)),{handleSubmit:s,control:o,formState:{errors:g}}=(0,v.cI)({defaultValues:a.id?a:{}});return(0,_.jsxs)(c.Z,{open:l,TransitionComponent:C,keepMounted:!0,onClose:t,"aria-describedby":"alert-dialog-slide-description",children:[(0,_.jsxs)(u.Z,{children:[a.id?"Edit":"Add"," Seller Order List information"]}),(0,_.jsxs)("form",{onSubmit:s((e=>{r(e)})),children:[(0,_.jsx)(m.Z,{children:(0,_.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(h.ZP,{item:!0,sm:6,children:(0,_.jsx)(x.Z,{label:"First Name",control:o,rules:{required:!0},disabled:!1,name:"first_name",errors:g,fullWidth:!0})}),(0,_.jsx)(h.ZP,{item:!0,sm:6,children:(0,_.jsx)(x.Z,{label:"Last Name",control:o,rules:{required:!0},disabled:!1,name:"last_name",errors:g,fullWidth:!0})}),(0,_.jsx)(h.ZP,{item:!0,sm:6,children:(0,_.jsx)(x.Z,{label:"Email",control:o,rules:{required:!0},disabled:!!a.id,name:"email",errors:g,fullWidth:!0})}),(0,_.jsx)(h.ZP,{item:!0,sm:6,children:(0,_.jsx)(j.Z,{type:"tel",label:"Phone no.",control:o,rules:{required:!0},name:"phone",errors:g,fullWidth:!0})}),(0,_.jsx)(h.ZP,{item:!0,sm:6,children:(0,_.jsx)(x.Z,{label:"Store Name",control:o,rules:{required:!0},disabled:!!a.id,name:"store_name",errors:g,fullWidth:!0})}),(0,_.jsx)(h.ZP,{item:!0,sm:6,children:(0,_.jsx)(Z.Z,{label:"Active",control:o,disabled:!1,name:"is_active",errors:g,fullWidth:!0,isChecked:!a.id||a.is_active,defaultValue:!0})}),(0,_.jsx)(h.ZP,{item:!0,sm:6,children:(0,_.jsx)(b.Z,{label:"Client Id",control:o,rules:{required:!0},name:"client_id",errors:g,fullWidth:!0})}),(0,_.jsx)(h.ZP,{item:!0,sm:6,children:(0,_.jsx)(b.Z,{label:"Client Secret",control:o,rules:{required:!0},name:"client_secret",errors:g,fullWidth:!0})})]})}),(0,_.jsxs)(f.Z,{children:[(0,_.jsx)(n.Z,{onClick:t,children:"Cancel"}),(0,_.jsxs)(n.Z,{type:"submit",variant:"contained",disabled:i.loading,children:[i.loading&&(0,_.jsx)(p.Z,{sx:{color:"#0000001f",mr:"10px"},size:"15px"}),a.id?"Update":"Add"]})]})]})]})},y=t(4071),R=t(6165),k=t(47605);var S=()=>{var e;const[l,t]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)({}),[h,f]=(0,r.useState)(!1),[p,v]=(0,r.useState)({}),[x,Z]=(0,r.useState)(!1),b=(0,d.CG)((e=>e.sellerItemSlice.orderList)),j=(0,d.CG)((e=>e.authorization)),C=null===j||void 0===j||null===(e=j.userData)||void 0===e?void 0:e.data,S=(0,d.TL)();(0,r.useEffect)((()=>{S((0,R.bD)())}),[]),(0,r.useEffect)((()=>{null!==b&&void 0!==b&&b.data&&(null===b||void 0===b?void 0:b.data.length)>0&&(Z(!1),t(null===b||void 0===b?void 0:b.data.map((e=>{var l;return[e.id,e.purchase_order_id,e.customer_order_id,e.methodCode,e.customer_email_id,null===e||void 0===e||null===(l=e.shipping_info)||void 0===l?void 0:l.phone]}))))}),[b]);const E=e=>{e.id?S((0,s.Nn)({data:{first_name:e.first_name,last_name:e.last_name,email:e.email,is_active:e.is_active,phone:e.phone,user_type:2,client_id:e.client_id,client_secret:e.client_secret,store_name:e.store_name},seller_id:e.id,callbackFunc:F})):S((0,s.fZ)({data:{first_name:e.first_name,last_name:e.last_name,email:e.email,is_active:e.is_active,phone:e.phone,user_type:2,password:"",client_id:e.client_id,client_secret:e.client_secret,store_name:e.store_name},callbackFunc:F}))},F=e=>{c(!o),m(e||{})},K=e=>{f(!h),v(e||{})},D={selectableRows:"none",print:!1,download:!1,customToolbar:()=>(0,_.jsxs)(_.Fragment,{children:[2==(null===C||void 0===C?void 0:C.user_type)&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(n.Z,{onClick:w,disabled:x,children:"Fetch All Orders from wallmart"}),(0,_.jsx)(n.Z,{onClick:()=>S((0,R.bD)()),children:"Get Fetched Orders"})]}),x?(0,_.jsx)(k.Z,{children:"Please Wait for few mins. it will take few mins to fetch your Orders, click on Get Fetched Orders for get fetched data."}):""]})},w=()=>{Z(!0),S((0,R.f8)())};return(0,_.jsxs)(i.Z,{title:"Seller's Order List",children:[(0,_.jsx)(a.ZP,{actions:[{icon:"save"}],data:l,columns:[{name:"id",label:"Id",options:{filter:!0,sort:!1}},{name:"purchase_id",label:"Purchase Id",options:{filter:!0,sort:!0}},{name:"customer_id",label:"Customer ID",options:{filter:!0,sort:!0}},{name:"methodCode",label:"Method Code",options:{filter:!0,sort:!0}},{name:"email",label:"email",options:{filter:!0,sort:!1}},{name:"phone",label:"Phone",options:{filter:!0,sort:!1}}],options:D}),o&&(0,_.jsx)(g,{open:o,handleClose:F,updateSeller:E,sellerData:u}),h&&(0,_.jsx)(y.Z,{cancelCallback:K,deleteCallback:()=>{null!==p&&void 0!==p&&p.id&&S((0,s.WY)({seller_id:p.id,callbackFunc:K}))},open:h,updateSeller:E})]})}},89332:function(e,l,t){var r=t(64836);l.Z=void 0;var a=r(t(45045)),i=t(46417),n=(0,a.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");l.Z=n},22611:function(e,l,t){var r=t(64836);l.Z=void 0;var a=r(t(45045)),i=t(46417),n=(0,a.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");l.Z=n}}]);